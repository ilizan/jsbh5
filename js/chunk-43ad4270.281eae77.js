(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43ad4270"],{"159b":function(e,t,o){var a=o("da84"),r=o("fdbc"),n=o("17c2"),c=o("9112");for(var s in r){var i=a[s],l=i&&i.prototype;if(l&&l.forEach!==n)try{c(l,"forEach",n)}catch(u){l.forEach=n}}},"17c2":function(e,t,o){"use strict";var a=o("b727").forEach,r=o("a640"),n=r("forEach");e.exports=n?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,o){var a=o("d039"),r=o("b622"),n=o("2d00"),c=r("species");e.exports=function(e){return n>=51||!a((function(){var t=[],o=t.constructor={};return o[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"401e":function(e,t,o){},"65f0":function(e,t,o){var a=o("861d"),r=o("e8b5"),n=o("b622"),c=n("species");e.exports=function(e,t){var o;return r(e)&&(o=e.constructor,"function"!=typeof o||o!==Array&&!r(o.prototype)?a(o)&&(o=o[c],null===o&&(o=void 0)):o=void 0),new(void 0===o?Array:o)(0===t?0:t)}},8418:function(e,t,o){"use strict";var a=o("c04e"),r=o("9bf2"),n=o("5c6c");e.exports=function(e,t,o){var c=a(t);c in e?r.f(e,c,n(0,o)):e[c]=o}},"90f4":function(e,t,o){},"99af":function(e,t,o){"use strict";var a=o("23e7"),r=o("d039"),n=o("e8b5"),c=o("861d"),s=o("7b0b"),i=o("50c4"),l=o("8418"),u=o("65f0"),f=o("1dde"),m=o("b622"),d=o("2d00"),p=m("isConcatSpreadable"),h=9007199254740991,y="Maximum allowed index exceeded",v=d>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=f("concat"),S=function(e){if(!c(e))return!1;var t=e[p];return void 0!==t?!!t:n(e)},k=!v||!b;a({target:"Array",proto:!0,forced:k},{concat:function(e){var t,o,a,r,n,c=s(this),f=u(c,0),m=0;for(t=-1,a=arguments.length;t<a;t++)if(n=-1===t?c:arguments[t],S(n)){if(r=i(n.length),m+r>h)throw TypeError(y);for(o=0;o<r;o++,m++)o in n&&l(f,m,n[o])}else{if(m>=h)throw TypeError(y);l(f,m++,n)}return f.length=m,f}})},a640:function(e,t,o){"use strict";var a=o("d039");e.exports=function(e,t){var o=[][e];return!!o&&a((function(){o.call(null,t||function(){throw 1},1)}))}},b0c0:function(e,t,o){var a=o("83ab"),r=o("9bf2").f,n=Function.prototype,c=n.toString,s=/^\s*function ([^ (]*)/,i="name";a&&!(i in n)&&r(n,i,{configurable:!0,get:function(){try{return c.call(this).match(s)[1]}catch(e){return""}}})},b727:function(e,t,o){var a=o("0366"),r=o("44ad"),n=o("7b0b"),c=o("50c4"),s=o("65f0"),i=[].push,l=function(e){var t=1==e,o=2==e,l=3==e,u=4==e,f=6==e,m=7==e,d=5==e||f;return function(p,h,y,v){for(var b,S,k=n(p),w=r(k),C=a(h,y,3),x=c(w.length),g=0,j=v||s,N=t?j(p,x):o||m?j(p,0):void 0;x>g;g++)if((d||g in w)&&(b=w[g],S=C(b,g,k),e))if(t)N[g]=S;else if(S)switch(e){case 3:return!0;case 5:return b;case 6:return g;case 2:i.call(N,b)}else switch(e){case 4:return!1;case 7:i.call(N,b)}return f?-1:l||u?u:N}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},c383:function(e,t,o){"use strict";o("401e")},c4eb:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("h2",{staticClass:"title"},[e._v("拖欠农民工工资线索反映")]),o("van-form",{ref:"forms",attrs:{"label-width":"4rem","error-message-align":"right","input-align":"right"},on:{submit:e.onSubmit}},[o("van-field",{attrs:{name:"拖欠工资项目名称",placeholder:"请输入项目名称",rules:[{required:!0,message:""}]},on:{blur:function(t){return e.projectSearchFn()}},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"},[e._v("*")]),e._v(" 拖欠工资项目名称 ")]},proxy:!0}]),model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}}),o("van-field",{attrs:{name:"拖欠工资项目地址",placeholder:"请输入地址",rules:[{required:!0,message:""}]},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"},[e._v("*")]),e._v(" 拖欠工资项目地址 ")]},proxy:!0}]),model:{value:e.form.projectAddress,callback:function(t){e.$set(e.form,"projectAddress",t)},expression:"form.projectAddress"}}),o("van-field",{attrs:{readonly:"",clickable:"",value:e.form.cityName,name:"所在市","right-icon":"arrow",placeholder:"请选择",rules:[{required:!0,message:""}]},on:{click:function(t){e.cityShow=!0}},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"},[e._v("*")]),e._v(" 所在市 ")]},proxy:!0}])}),o("van-field",{directives:[{name:"show",rawName:"v-show",value:e.areaCodeInputShow,expression:"areaCodeInputShow"}],attrs:{readonly:"",clickable:"",value:e.form.countryName,name:"所在区县","right-icon":"arrow",placeholder:"请选择"},on:{click:function(t){return e.areaShowFn()}},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 所在区县 ")]},proxy:!0}])}),o("van-field",{attrs:{readonly:"",clickable:"",value:e.form.projectTypeName,name:"行业主管部门","right-icon":"arrow",placeholder:"请选择",rules:[{required:!0,message:""}]},on:{click:function(t){e.industryShow=!0}},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"},[e._v("*")]),e._v(" 行业主管部门 ")]},proxy:!0}])}),o("van-field",{attrs:{name:"建设单位名称",placeholder:"请输入单位名称"},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 建设单位名称 ")]},proxy:!0}]),model:{value:e.form.projectOwerName,callback:function(t){e.$set(e.form,"projectOwerName",t)},expression:"form.projectOwerName"}}),o("van-field",{attrs:{name:"总承包单位名称",placeholder:"请输入单位名称"},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 总承包单位名称 ")]},proxy:!0}]),model:{value:e.form.projectCompanyName,callback:function(t){e.$set(e.form,"projectCompanyName",t)},expression:"form.projectCompanyName"}}),o("van-field",{attrs:{name:"总承包单位项目经理名称","label-width":"5rem",placeholder:"请输入经理名称"},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 总承包单位项目经理名称 ")]},proxy:!0}]),model:{value:e.form.projectManagerName,callback:function(t){e.$set(e.form,"projectManagerName",t)},expression:"form.projectManagerName"}}),o("van-field",{attrs:{name:"分包单位名称",placeholder:"单位名称(没有则填无)"},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 分包单位名称 ")]},proxy:!0}]),model:{value:e.form.projectLabcompanyName,callback:function(t){e.$set(e.form,"projectLabcompanyName",t)},expression:"form.projectLabcompanyName"}}),o("van-field",{attrs:{name:"班组长姓名",placeholder:"请输入姓名"},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 班组长姓名 ")]},proxy:!0}]),model:{value:e.form.projectGroupleaderName,callback:function(t){e.$set(e.form,"projectGroupleaderName",t)},expression:"form.projectGroupleaderName"}}),o("van-field",{attrs:{name:"反映人姓名",placeholder:"请输入姓名",rules:[{required:!0,message:""}],readonly:""},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"},[e._v("*")]),e._v(" 反映人姓名 ")]},proxy:!0}]),model:{value:e.form.reflectName,callback:function(t){e.$set(e.form,"reflectName",t)},expression:"form.reflectName"}}),o("van-field",{attrs:{name:"反映人电话",placeholder:"请输入电话",rules:[{required:!0,message:""},{pattern:/^1[3456789]\d{9}$/,message:"手机号码格式错误！"}],readonly:""},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"},[e._v("*")]),e._v(" 反映人电话 ")]},proxy:!0}]),model:{value:e.form.reflectTel,callback:function(t){e.$set(e.form,"reflectTel",t)},expression:"form.reflectTel"}}),o("van-field",{attrs:{name:"反映人身份证号",placeholder:"请输入身份证号",rules:[{required:!0,message:""},{pattern:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"身份证号格式错误！"}],readonly:""},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"},[e._v("*")]),e._v(" 反映人身份证号 ")]},proxy:!0}]),model:{value:e.form.reflectIdcard,callback:function(t){e.$set(e.form,"reflectIdcard",t)},expression:"form.reflectIdcard"}}),o("van-field",{attrs:{name:"反映人现居住地址",placeholder:"请输入地址"},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 反映人现居住地址 ")]},proxy:!0}]),model:{value:e.form.newAddress,callback:function(t){e.$set(e.form,"newAddress",t)},expression:"form.newAddress"}}),o("van-field",{attrs:{name:"欠薪人数(单位:人)",placeholder:"请输入人数"},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 欠薪人数(单位:人) ")]},proxy:!0}]),model:{value:e.form.backPayPerson,callback:function(t){e.$set(e.form,"backPayPerson",t)},expression:"form.backPayPerson"}}),o("van-field",{attrs:{name:"欠薪金额(单位:元)",placeholder:"请输入金额"},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 欠薪金额(单位:元) ")]},proxy:!0}]),model:{value:e.form.backPayMoney,callback:function(t){e.$set(e.form,"backPayMoney",t)},expression:"form.backPayMoney"}}),o("van-field",{attrs:{readonly:"",clickable:"",name:"欠薪发生时间",placeholder:"请选择日期","right-icon":"arrow"},on:{click:function(t){e.calenderShow=!0}},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"}),e._v(" 欠薪发生时间 ")]},proxy:!0}]),model:{value:e.backPayTime,callback:function(t){e.backPayTime=t},expression:"backPayTime"}}),o("van-field",{staticClass:"texts",attrs:{rows:"3",type:"textarea",autosize:"",name:"backPaySummary",placeholder:"(请将欠薪过程描述清楚，并控制在500字以内)",maxlength:"500","show-word-limit":"",rules:[{required:!0,message:""}],"input-align":"left"},scopedSlots:e._u([{key:"label",fn:function(){return[o("span",{staticClass:"ts"},[e._v("*")]),e._v(" 欠薪基本情况摘要 ")]},proxy:!0}]),model:{value:e.form.backPaySummary,callback:function(t){e.$set(e.form,"backPaySummary",t)},expression:"form.backPaySummary"}}),o("div",{staticClass:"info"},[e._v("（注：带“"),o("span",{staticClass:"ts"},[e._v("*")]),e._v("”为必填项）")]),o("div",{staticClass:"btns"},[o("van-button",{staticClass:"submitBtn",attrs:{color:"#4967B7",type:"info","native-type":"submit"}},[e._v("提交")]),o("van-button",{staticClass:"resetBtn",attrs:{color:"#4967B7",plain:"","native-type":"button"},on:{click:function(t){return e.resetFn()}}},[e._v("重置")])],1)],1),o("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.cityShow,callback:function(t){e.cityShow=t},expression:"cityShow"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.cityList,"value-key":"areaname","default-index":e.citySelectIndex},on:{cancel:function(t){e.cityShow=!1},confirm:e.onCityConfirm}})],1),o("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.areaShow,callback:function(t){e.areaShow=t},expression:"areaShow"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.areaList,"value-key":"areaname","default-index":e.areaSelectIndex},on:{cancel:function(t){e.areaShow=!1},confirm:e.onAreaConfirm},scopedSlots:e._u([{key:"title",fn:function(){return[o("div",{staticClass:"tag"})]},proxy:!0}])})],1),o("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.industryShow,callback:function(t){e.industryShow=t},expression:"industryShow"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.industryList,"default-index":e.industrySelectIndex,"value-key":"name"},on:{cancel:function(t){e.industryShow=!1},confirm:e.onIndustryConfirm}})],1),o("van-calendar",{attrs:{color:"#4967B7","min-date":new Date(2018,1,1)},on:{confirm:e.onDateConfirm},model:{value:e.calenderShow,callback:function(t){e.calenderShow=t},expression:"calenderShow"}}),o("projectSearch",{ref:"projectsearch",on:{say:e.getSelectProject}})],1)},r=[],n=(o("159b"),o("b0c0"),o("99af"),o("d3b7"),o("3ca3"),o("ddb0"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"projectSearch"},[o("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.projectList,"value-key":"projectName","visible-item-count":"4","default-index":0},on:{cancel:function(t){e.show=!1},confirm:e.onConfirm},scopedSlots:e._u([{key:"cancel",fn:function(){return[e._v(" 关闭 ")]},proxy:!0},{key:"title",fn:function(){return[o("p",{staticClass:"title"},[e._v("您输入的可能是以下项目")])]},proxy:!0},{key:"columns-top",fn:function(){return[o("div",{staticClass:"tag"},[e._v("(没有则关闭)")])]},proxy:!0}])})],1)],1)}),c=[],s={name:"ProjectSearch",data:function(){return{show:!1,projectList:[]}},methods:{init:function(e){var t=this;this.$http.complaint.queryProject({projectName:e}).then((function(e){200==e.code&&e.data.length>0&&(t.projectList=e.data,t.show=!0)}))},onConfirm:function(e){this.$emit("say",e),this.show=!1}},mounted:function(){}},i=s,l=(o("d6f5"),o("2877")),u=Object(l["a"])(i,n,c,!1,null,"5df62d06",null),f=u.exports,m={projectId:"",projectName:"",projectAddress:"",cityCode:"",cityName:"",countryCode:"",countryName:"",projectTypeCode:"",projectTypeName:"",projectOwerId:"",projectOwerName:"",projectCompanyId:"",projectCompanyName:"",projectManagerName:"",projectLabcompanyName:"",projectGroupleaderName:"",reflectName:JSON.parse(localStorage.getItem("userInfo")).certName,reflectTel:JSON.parse(localStorage.getItem("userInfo")).mobileNo,reflectIdcard:JSON.parse(localStorage.getItem("userInfo")).certNo,newAddress:"",backPayPerson:"",backPayMoney:"",backPayTime:"",backPaySummary:""},d={name:"Home",components:{projectSearch:f},data:function(){return{cityShow:!1,citySelectIndex:0,cityList:[],areaCodeInputShow:!0,areaShow:!1,areaList:[],areaSelectIndex:0,calenderShow:!1,industryList:[],industrySelectIndex:0,industryShow:!1,backPayTime:"",form:JSON.parse(JSON.stringify(m))}},methods:{areaShowFn:function(){this.areaList.length>0?this.areaShow=!0:this.$toast.fail("请选择市后再选择区")},projectSearchFn:function(){this.form.projectName&&this.$refs.projectsearch.init(this.form.projectName)},selectOption:function(e,t){var o=this,a="";return"city"==e&&this.cityList.forEach((function(e,r){e.areaid==t&&(a=e.areaname,o.citySelectIndex=r)})),"area"==e&&this.areaList.forEach((function(e,r){e.areaid==t&&(a=e.areaname,o.areaSelectIndex=r)})),"industry"==e&&this.industryList.forEach((function(e,r){e.id==t&&(a=e.name,o.industrySelectIndex=r)})),a},getSelectProject:function(e){this.form=Object.assign({},this.form,e),this.form.cityCode&&(this.form.cityName=this.selectOption("city",this.form.cityCode)),this.form.projectTypeCode&&(this.form.projectTypeName=this.selectOption("industry",this.form.projectTypeCode)),this.form.countryCode?(this.form.cityCode&&this.getAreaList(this.form.cityCode),this.areaCodeInputShow=!0):this.areaCodeInputShow=!1},onCityConfirm:function(e){this.form.cityCode=e.areaid,this.form.cityName=e.areaname,this.cityShow=!1,this.form.countryCode="",this.form.countryName="",this.areaSelectIndex=0,this.getAreaList(this.form.cityCode)},onAreaConfirm:function(e){e&&(this.form.countryCode=e.areaid,this.form.countryName=e.areaname),this.areaShow=!1},onIndustryConfirm:function(e){this.form.projectTypeCode=e.id,this.form.projectTypeName=e.name,this.industryShow=!1},formatDate:function(e,t){var o="".concat(e.getFullYear(),"年").concat(e.getMonth()+1,"月").concat(e.getDate(),"日");return"-"==t&&(o="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())),o},radioFn:function(){},onDateConfirm:function(e){this.calenderShow=!1,this.backPayTime=this.formatDate(e,""),this.form.backPayTime=this.formatDate(e,"-")},onSubmit:function(e){var t=this,o=this.form;o.userArea=o.countryCode&&6==o.countryCode.length?o.countryCode:o.cityCode,o.projectAreaName=o.projectAreaName?o.projectAreaName:"",this.$http.complaint.complaintSave(o).then((function(e){200==e.code?(t.$toast.success(e.msg),t.resetFn()):t.$toast.fail(e.msg)}))},resetFn:function(){this.form=JSON.parse(JSON.stringify(m)),this.backPayTime="",this.$refs.forms.resetValidation()},getCityList:function(){var e=this;return new Promise((function(t,o){e.$http.complaint.getCityList().then((function(o){200==o.code&&(e.cityList=o.data),t()}))}))},getAreaList:function(e){var t=this;this.$http.complaint.getAreaList({areaId:e}).then((function(e){"200"==e.code&&(t.areaList=e.data),t.form.countryCode&&(t.form.countryName=t.selectOption("area",t.form.countryCode))}))},getIndustryList:function(){var e=this;return this.industryList=[],new Promise((function(t,o){e.$http.complaint.getIndustry().then((function(o){200==o.code&&(e.industryList=o.data),t()}))}))},getDataInit:function(){Promise.all([this.getCityList(),this.getIndustryList()]).then((function(e){})).catch((function(e){console.log(e)}))}},created:function(){this.getDataInit()},mounted:function(){}},p=d,h=(o("c383"),Object(l["a"])(p,a,r,!1,null,"349472f9",null));t["default"]=h.exports},d6f5:function(e,t,o){"use strict";o("90f4")},e8b5:function(e,t,o){var a=o("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-43ad4270.281eae77.js.map